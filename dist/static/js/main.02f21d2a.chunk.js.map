{"version":3,"sources":["images/header-logo.svg","components/Header.js","images/add-vector.svg","images/Edit-Button.svg","images/backet.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","contexts/CurrentCardsContext.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletQuestionPopup.js","utils/auth.js","components/LogIn.js","components/Register.js","components/ProtectedRoute.js","images/img-success.svg","images/img-fail.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["withRouter","props","signOut","localStorage","removeItem","history","push","className","id","type","userData","onClick","to","src","headerLogo","alt","htmlFor","CurrentUserContext","React","createContext","Card","userId","useContext","isOwn","dataCards","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","name","link","onCardClick","backet","onCardDelete","aria-label","onCardLike","length","Main","translationUser","onEditAvatar","avatar","onEditProfile","editButton","about","onAddPlace","addVector","Array","from","cards","map","item","Footer","ImagePopup","card","method","onClose","api","address","token","this","result","ok","json","Promise","reject","status","fetch","headers","authorization","then","_checkStatus","body","JSON","stringify","data","cardId","deleteCard","addCard","removeLike","addLike","CurrentCardsContext","PopupWithForm","isOpen","onSubmit","title","children","text","EditProfilePopup","useState","setName","description","setDescription","currentUser","useEffect","e","preventDefault","onUpdateUser","onChange","target","value","placeholder","required","minLength","maxLength","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","cardsNameRef","cardsLinkRef","DeletQuestionPopup","BASE_URL","auth","password","email","console","log","userLoginData","setUserLoginData","handleChange","onLoginSumbit","userRegistrData","setUserRegistrData","onRegister","ProtectedRoute","Component","component","loggedIn","InfoTooltip","stateOpenPopup","isSuccess","imgSuccess","imgFail","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","handleEditAvatarClick","isEditProfilePopupOpen","setIsEditProfilePopupOpen","handleEditProfileClick","isAddPlacePopupOpen","setIsAddPlacePopupOpen","handleAddPlaceClick","deletQuestionPopup","setDeletQuestionPopup","deletCard","setdeletCard","handleDeletQuestionPopup","selectedCard","setSelectedCard","handleCardClick","closeAllPopups","setStateOpenPopup","handleEsc","event","keyCode","window","addEventListener","removeEventListener","setCurrentUser","getUserInfo","res","catch","currentCards","setCurrentCards","handleCardLike","changeLikeCardStatus","newCard","c","getInitialCards","setloggedIn","onLogin","setisSuccess","register","setTimeout","err","emailData","setEmailData","login","setItem","jwt","getItem","getToken","tokenCheck","Provider","exact","path","updateUser","updateAvatar","changeCardStatus","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.02f21d2a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.03b78ada.svg\";","import React from 'react';\r\nimport headerLogo from '../images/header-logo.svg'\r\nimport { Link ,withRouter} from 'react-router-dom'; \r\nfunction Header(props){\r\n\r\n  \r\n\r\n        function signOut(){\r\n            localStorage.removeItem('token');\r\n            props.history.push('/sign-in');\r\n    }\r\n\r\n    return(\r\n        <>\r\n    \r\n            <div className=\"hamburger-menu\">\r\n                        <input id=\"menu__toggle\" type=\"checkbox\" />\r\n                    \r\n                        <ul className=\"menu__box\">\r\n                        <div className='menu__wrapper'>\r\n                            <div className='header__email'>{props.userData}</div>\r\n                            <Link className=' header__exit header__exit_position' onClick={signOut} to=\"/sign-in\">Выйти</Link>\r\n                        </div>\r\n                            \r\n                        </ul>\r\n             </div>\r\n                    <header className=\"header\">\r\n                    <img className=\"header__logo\" src={headerLogo} alt=\"Логотип сайта путешествие\" />\r\n                    <label className=\"menu__btn\" htmlFor=\"menu__toggle\">\r\n                        <span></span>\r\n                        </label>\r\n                    <div className='header__wrapper'>\r\n                        <div className='header__email'>{props.userData}</div>\r\n                        <Link className='header__exit' onClick={signOut} to=\"/sign-in\">Выйти</Link>\r\n                    </div>\r\n\r\n                </header>     \r\n                  \r\n        </>\r\n    );\r\n}\r\nexport default withRouter(Header);","export default __webpack_public_path__ + \"static/media/add-vector.d86bb2ed.svg\";","export default __webpack_public_path__ + \"static/media/Edit-Button.a1892ea7.svg\";","export default __webpack_public_path__ + \"static/media/backet.a274c87c.svg\";","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport backet from '../images/backet.svg'\r\nimport { CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Card (props){\r\n\r\n  function handleCardLike(){\r\n    props.onCardLike (props.dataCards);\r\n  }\r\n\r\n  function handleDeleteClick (){\r\n    props.onCardDelete (props.dataCards);\r\n  }\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.dataCards);\r\n  } \r\n  \r\n  const userId = React.useContext(CurrentUserContext)\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = props.dataCards.owner._id === userId._id;\r\n\r\n// Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n  const cardDeleteButtonClassName = (\r\n    `element__backet ${isOwn ? 'element__backet_active' : ' element__backet_hidden'}`\r\n  );\r\n\r\n\r\n    // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = props.dataCards.likes.some(i => i._id === userId._id);\r\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n  const cardLikeButtonClassName = (\r\n    `element__like ${isLiked ? 'element__like_active' : ' '}`\r\n  );\r\n\r\n    return(\r\n        \r\n        <div className=\"directors__item\">\r\n        <div className=\"element__header\">\r\n          <img className=\"element__image\" \r\n           alt={props.name}\r\n           src={props.dataCards.link}\r\n           onClick={handleClick}\r\n           />\r\n          <img className={`${cardDeleteButtonClassName}`}  \r\n          src={backet} \r\n          alt=\"Корзина для удаление фото-карточки\"\r\n          onClick ={handleDeleteClick}\r\n          />\r\n        </div>\r\n        <div className=\"element__footer\">\r\n          <div className=\"element__place-travel\">{props.dataCards.name}</div>\r\n          <div className=\"element__likes-group\">\r\n            <button \r\n            className={`${cardLikeButtonClassName}`} \r\n            type=\"button\" \r\n            aria-label=\"Like\" \r\n            onClick={handleCardLike}\r\n             />\r\n            <div className= 'element__likes-click'>{props.dataCards.likes.length}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n        \r\n    )\r\n}\r\nexport default Card","import addVector from '../images/add-vector.svg'\r\nimport editButton from '../images/Edit-Button.svg'\r\nimport Card from './Card';\r\nimport React from 'react';\r\nimport { CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\n\r\n\r\nfunction Main (props){\r\n  const translationUser = React.useContext(CurrentUserContext);\r\n\r\n    return(\r\n        <>\r\n           <main className=\"page\">\r\n            <section className=\"profile\">\r\n              <div className=\"profile__top-avatar\">\r\n                <button className=\"profile__avatar-edit\" type=\"button\"  onClick={props.onEditAvatar} > \r\n                  <img className=\"profile__avatar\" src={translationUser.avatar} alt=\"автарка автора\" />\r\n                </button>\r\n              </div>\r\n              <div className=\"profile__info\">\r\n                <div className=\"profile__header-info\">\r\n                  <h1 className=\"profile__name\" >{translationUser.name}</h1>\r\n                  <button className=\"profile__edit-btn\" type=\"button\"><img className=\"profile__icon\" onClick={props.onEditProfile} src={editButton} alt=\"кнопка добавление автора\" /></button>\r\n                </div>\r\n                <p className=\"profile__work\">{translationUser.about}</p>\r\n              </div>\r\n              <button className=\"profile__add-btn\" type=\"button\" onClick={props.onAddPlace}><img src={addVector} alt=\"кнопка добавление фото\" /></button>\r\n            </section>\r\n         \r\n            <section className=\"elements\">\r\n\r\n                  <div className=\"element\">\r\n                      {Array.from(props.cards).map((item) => (\r\n                          <Card \r\n                          key={item._id} \r\n                          dataCards = {item} \r\n                          onCardClick={props.onCardClick}\r\n                          onCardLike ={props.onCardLike}\r\n                          onCardDelete ={props.onCardDelete}\r\n                          />\r\n                        ))}\r\n                  </div>\r\n            </section>\r\n          </main>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Main;","function Footer(){\r\n    return(\r\n        <>\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copywriter\">\t© 2021 Mesto Russia</p>\r\n          </footer>\r\n        </>\r\n    )\r\n}\r\nexport default Footer","function ImagePopup(props){\r\n    return(\r\n      <div className= {`popup popup_preview ${props.card.link  ? \"popup_active\":\"\"}` }>\r\n        <div className=\"popup__container-preview\" method=\"POST\" name=\"popup-container\">\r\n          <button className=\"popup__close popup__close_preview\" type=\"button\" onClick={props.onClose}/>\r\n          <figure className=\"preview\">\r\n            <img className=\"preview__img\" alt={props.card.name} src={props.card.link} />\r\n            <figcaption className=\"preview__signature\">{props.card.name}</figcaption>\r\n          </figure>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\nexport default ImagePopup","class Api {\r\n    constructor({address,token}) {\r\n      this.address = address;\r\n      this.token = token;\r\n    }\r\n    \r\n    _checkStatus(result){\r\n      if (result.ok) {\r\n        return result.json()\r\n    } else {\r\n        return Promise.reject(`Ошибка: ${result.status}`)\r\n    }\r\n    }\r\n    getUserInfo(){\r\n      return fetch(`${this.address}/users/me`, {\r\n        method:'GET',\r\n          headers: {\r\n            authorization: this.token\r\n          }\r\n        })\r\n        .then(result => {\r\n          return this._checkStatus(result)\r\n      })\r\n    }\r\n\r\n\r\n    updateUser({name,about}) {\r\n      return fetch(`${this.address}/users/me`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n          authorization: this.token,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ name,about})\r\n      })    \r\n      .then(result => {\r\n        return this._checkStatus(result)\r\n      });\r\n  }\r\n  \r\n  updateAvatar(data) {\r\n    return fetch(`${this.address}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this.token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(\r\n        {avatar:data}\r\n      )\r\n    })    \r\n    .then(result => {\r\n      return this._checkStatus(result)\r\n          });\r\n}\r\n\r\n\r\ngetInitialCards(){\r\n      return fetch(`${this.address}/cards`, {\r\n        method:'GET',\r\n          headers: {\r\n            authorization: this.token\r\n          }\r\n        })\r\n        .then(result => {\r\n          return this._checkStatus(result)\r\n      })\r\n      // .then(\r\n      //   data =>\r\n      //     data.map(e => {\r\n      //       e.isMine = e.owner._id === \"a335225deae10b0eeb469615\";\r\n      //       return e;\r\n      //     })\r\n      // )\r\n    }\r\n\r\n    addCard({ name,link}){\r\n      return fetch(`${this.address}/cards`, {\r\n        method:'POST',\r\n          headers: {\r\n            authorization: this.token,\r\n            'Content-Type': 'application/json'\r\n          },\r\n          body: JSON.stringify({ name,link})\r\n        })\r\n        .then(result => {\r\n          return this._checkStatus(result)\r\n      })\r\n    }\r\n\r\n\r\n    deleteCard(id) {\r\n      return fetch(`${this.address}/cards/${id}`, {\r\n          method: 'DELETE',\r\n          headers: {\r\n              authorization: this.token,\r\n              'Content-Type': 'application/json'\r\n          },\r\n      })\r\n          .then(result => {\r\n            return this._checkStatus(result)\r\n          })\r\n  }\r\n  changeCardStatus (cardId, isLiked) {\r\n    return isLiked ? this.deleteCard(cardId) : this.addCard(cardId);\r\n  }\r\n  addLike(id) {\r\n    return fetch(`${this.address}/cards/likes/${id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n            authorization: this.token,\r\n            'Content-Type': 'application/json'\r\n        },\r\n    })\r\n        .then(result => {\r\n          return this._checkStatus(result)\r\n        })\r\n  }\r\n\r\n  removeLike(id) {\r\n  return fetch(`${this.address}/cards/likes/${id}`,{\r\n      method: 'DELETE',\r\n      headers: {\r\n          authorization: this.token,\r\n          'Content-Type': 'application/json'\r\n      },\r\n  })\r\n      .then(result => {\r\n        return this._checkStatus(result)\r\n      })\r\n  }\r\n  changeLikeCardStatus (cardId, isLiked) {\r\n    return isLiked ? this.removeLike(cardId) : this.addLike(cardId);\r\n  }\r\n\r\n}\r\n\r\nconst api= new Api({\r\n  address: 'https://mesto.nomoreparties.co/v1/cohort-24',\r\n  token: '43b98874-8a2f-4742-91c1-202875e69e98',\r\n})\r\n\r\nexport default api","import React from 'react';\r\nexport const CurrentCardsContext = React.createContext();","function PopupWithForm (props){\r\n    return(\r\n        \r\n          <div className={`popup popup${props.name} ${props.isOpen ? \"popup_active\":\"\"}` }>\r\n            <form onSubmit={props.onSubmit} className=\"popup__container  \" method=\"POST\" name={props.name}    >\r\n              <button className=\"popup__close\" type =\"button\" onClick ={ props.onClose }/>\r\n              <h3 className=\"popup__title\">{props.title}</h3>\r\n              {props.children}\r\n              <button type=\"submit\" onClick ={ props.onClose } className=\"popup__save-btn\" >{props.text}</button>\r\n            </form>\r\n          </div>  \r\n        \r\n    )\r\n}\r\nexport default PopupWithForm","import PopupWithForm from './PopupWithForm';\r\nimport React from 'react';\r\nimport { CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup (props){\r\n    const [name , setName ] = React.useState('')\r\n    const [description , setDescription ] = React.useState('')\r\n\r\n    // Подписка на контекст\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    // После загрузки текущего пользователя из API\r\n    // его данные будут использованы в управляемых компонентах.\r\n    React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value);\r\n      }\r\n    \r\n    function handleAboutChange(e) {\r\n        setDescription(e.target.value);\r\n      }\r\n\r\n      \r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        // Передаём значения управляемых компонентов во внешний обработчик\r\n        props.onUpdateUser({\r\n          name,\r\n          about: description,\r\n        });\r\n      }\r\n   \r\n    return(\r\n        <PopupWithForm   \r\n        text = 'Сохранить' \r\n        onSubmit={handleSubmit} \r\n        name =\"popup_profile \"  \r\n        title =\"Редактировать профиль\"\r\n        isOpen={props.isOpen} \r\n        onClose={props.onClose}>\r\n            <input\r\n                onChange={handleNameChange}\r\n                value={name || ''}\r\n                id=\"name-input\" \r\n                className=\"popup__input\"\r\n                type=\"text\" name=\"name\" \r\n                placeholder=\"Имя\"\r\n                required minLength={2} \r\n                maxLength={40} \r\n            />\r\n            <span id=\"name-input--error\" className=\"popup__input-error\" />\r\n            <input\r\n                onChange={handleAboutChange}\r\n                value={description || ''}\r\n                id=\"work-input\"\r\n                className=\"popup__input \"\r\n                type=\"text\" name=\"work\"\r\n                placeholder=\"О себе\" \r\n                required minLength={2}\r\n                maxLength={200} \r\n            />\r\n            <span id=\"work-input--error\" className=\"popup__input-error\" />\r\n        </PopupWithForm>\r\n    )\r\n}\r\nexport default EditProfilePopup;\r\n","import PopupWithForm from './PopupWithForm';\r\nimport React from 'react';\r\n\r\nfunction EditAvatarPopup(props){\r\n    const avatarRef = React.useRef();\r\n    \r\n\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar(\r\n          avatarRef.current.value\r\n        );\r\n      }\r\n    return(\r\n        <PopupWithForm \r\n          title='Обновить аватар'\r\n          onSubmit={handleSubmit}\r\n          name =\"popup_profile \"\r\n          isOpen={props.isOpen}\r\n          onClose={props.onClose}\r\n          text = 'Обновить аватар'\r\n          >\r\n          \r\n            <input className=\"popup__input popup__input-avatar\"  ref={avatarRef} id=\"url-avatar\" name=\"avatar\" type=\"url\" placeholder=\"Ссылка на новый аватар\" required />\r\n            <span id=\"url-avatar--error\" className=\"popup__input-error \" />\r\n        </PopupWithForm>\r\n    )\r\n}\r\nexport default EditAvatarPopup;","import PopupWithForm from './PopupWithForm';\r\nimport React from 'react';\r\n\r\nfunction AddPlacePopup (props){\r\n    const cardsNameRef = React.useRef();\r\n    const cardsLinkRef = React.useRef();\r\n    \r\n    function handleSubmit (e){\r\n        e.preventDefault();\r\n        props.onAddPlace({\r\n            name :cardsNameRef.current.value,\r\n            link :cardsLinkRef.current.value,\r\n        }\r\n            \r\n        );\r\n    }\r\n    return(\r\n        <PopupWithForm text = 'Загрузить фото' onSubmit={handleSubmit}  name =\"popup_add-cards \"  title =\"Новое место\" isOpen={props.isOpen} onClose={props.onClose}>\r\n            <input ref={cardsNameRef} id=\"description-card\" className=\"popup__input popup__input-description \" type=\"text\" placeholder=\"Название\" required />\r\n            <span id=\"description-card--error\" className=\"popup__input-error\" />\r\n            <input ref={cardsLinkRef} className=\"popup__input popup__input-images\" id=\"url-card\" type=\"url\" placeholder=\"Ссылка на картинку\" required />\r\n            <span id=\"url-card--error\" className=\"popup__input-error\" />\r\n        </PopupWithForm> \r\n    )\r\n}\r\nexport default AddPlacePopup ;","import PopupWithForm from './PopupWithForm';\r\n\r\nfunction DeletQuestionPopup(props){\r\n    function hendleSumbit(e){\r\n        e.preventDefault();\r\n        props.onCardDelete(props.card)\r\n    }\r\n    // console.log(props.onClose)\r\n    return(\r\n          <PopupWithForm\r\n          name = 'popup_delet'\r\n          isOpen={props.isOpen}\r\n          onSubmit={hendleSumbit}\r\n          onClose ={props.onClose}\r\n          title='Вы уверены?'\r\n          text= 'Да'\r\n          />\r\n    )\r\n}\r\nexport default DeletQuestionPopup;","\r\nconst BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nclass Auth {\r\n  constructor({password,email}) {\r\n    this.password = password;\r\n    this.email = email;\r\n    console.log(this.email)\r\n    \r\n  }\r\n  _checkStatus(result){\r\n    if (result.ok) {\r\n      return result.json()\r\n  } else {\r\n      return Promise.reject(`Ошибка: ${result.status}`)\r\n  }\r\n  }\r\n\r\n  register({email,password}){\r\n    return fetch(`${BASE_URL}/signup`, {\r\n      method:'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({email,password})\r\n      })\r\n      .then(result => {\r\n        \r\n       return this._checkStatus(result)\r\n    })\r\n  \r\n  }\r\n\r\n\r\n  login({email,password}){\r\n    return fetch(`${BASE_URL}/signin`, {\r\n      method:'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({email,password})\r\n      })\r\n\r\n      .then(result => {\r\n        return this._checkStatus(result)\r\n     })\r\n    \r\n   }\r\n\r\n   getToken(token) {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`,\r\n      }\r\n    })\r\n    .then(result => {\r\n      return this._checkStatus(result)\r\n    })\r\n  }\r\n}\r\nconst auth= new Auth({password:'',email:''})\r\nexport default auth;","import headerLogo from '../images/header-logo.svg'\r\nimport { Link ,withRouter } from 'react-router-dom'; \r\nimport React from 'react';\r\n\r\n\r\nfunction LogIn(props){\r\n  const [userLoginData,setUserLoginData] = React.useState({email:'',password:''})\r\n\r\n  function handleChange(e){\r\n    setUserLoginData({...userLoginData,[e.target.name]:e.target.value})\r\n      }\r\n  \r\n   function   handleSumbit(e){\r\n          e.preventDefault();\r\n          props.onLoginSumbit(userLoginData)\r\n      }\r\n   \r\n    return(\r\n        <div className='login'>\r\n            <header className=\"login__header\">\r\n                <img className=\"login__logo\" src={headerLogo} alt=\"Логотип сайта путешествие\" />\r\n                <Link to=\"/sign-up\" className='login__registration'>Регистрация</Link>\r\n            </header>\r\n            <form className='login__in' onSubmit={handleSumbit}>\r\n              <h3 className=\"login__title\">Вход</h3>\r\n              <input \r\n              placeholder='Email' \r\n              className='login__email'\r\n              name=\"email\"\r\n              type=\"email\"\r\n              value={userLoginData.email}\r\n              onChange={handleChange}\r\n              />\r\n              <input \r\n                placeholder='Пароль'\r\n                className='login__password'\r\n                value={userLoginData.password}\r\n                name=\"password\"\r\n                type=\"password\"\r\n                onChange={handleChange}\r\n                />\r\n              <button  className=\"login__btn-in\" type=\"submit\" >Войти</button>\r\n            </form>\r\n        </div>\r\n    )\r\n\r\n}\r\nexport default withRouter(LogIn);","import headerLogo from '../images/header-logo.svg'\r\nimport { Link ,withRouter } from 'react-router-dom'; \r\nimport React from 'react';\r\n\r\n\r\n\r\nfunction Register(props){\r\n    const [userRegistrData,setUserRegistrData] = React.useState({email:'',password:''})\r\n\r\nfunction handleChange(e){\r\n    setUserRegistrData({...userRegistrData,[e.target.name]:e.target.value})\r\n    }\r\n\r\n function handleSumbit(e){\r\n        e.preventDefault();\r\n        props.onRegister(userRegistrData)\r\n    }\r\n    return(\r\n        <div className='singup singup_active'>\r\n        <header className=\"singup__header\">\r\n            <img className=\"singup__logo\" src={headerLogo} alt=\"Логотип сайта путешествие\" />\r\n            <Link to=\"/sign-in\" className='singup__registration'>Войти</Link>\r\n        </header>\r\n        <form className='singup__in' onSubmit={handleSumbit}>\r\n          <h3 className=\"singup__title\">Регистрация</h3>\r\n          <input \r\n          placeholder='Email'\r\n          name=\"email\"\r\n          type=\"email\"\r\n          value={userRegistrData.email}\r\n          className='singup__email'\r\n          onChange={handleChange}\r\n          />\r\n      \r\n          <input  \r\n           placeholder='Password'\r\n           value={userRegistrData.password}\r\n           name=\"password\"\r\n           type=\"password\"\r\n           className='singup__password'\r\n           onChange={handleChange}\r\n           />\r\n          <button  className=\"singup__btn-in\" type=\"submit\" >Зарегистрироваться</button>\r\n          <Link to=\"/sign-in\" className=\"singup__question\">Уже зарегистрированы? Войти</Link>\r\n        </form>\r\n       \r\n    </div>\r\n    )\r\n\r\n}\r\nexport default withRouter (Register);","import React from 'react';\r\nimport { Route, Redirect} from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute ({component: Component, ...props}) {\r\n\r\n  return ( \r\n    <Route > {props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-up\" />}</Route>\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/img-success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/img-fail.df8eddf6.svg\";","import imgSuccess from '../images/img-success.svg'\r\nimport imgFail from '../images/img-fail.svg'\r\nimport React from 'react';\r\n\r\nfunction InfoTooltip(props){\r\n \r\n    return(\r\n   \r\n    //  он щас окрывает по стеиту но если прилетит фалс он не заменить контент на ошибку\r\n        <div className={`infotooltip ${props.stateOpenPopup  ? 'infotooltip_active' : ''}`}>\r\n            <button className='infotooltip__close' onClick ={ props.onClose }></button>\r\n            <div className='infotooltip__popup'>\r\n                    \r\n                <img  \r\n                    className='infotooltip__images' \r\n                    src={props.isSuccess  ? imgSuccess: imgFail} \r\n                    alt=\"Оповещенние\">\r\n                </img>\r\n                <p  \r\n                    className='infotooltip__text'>\r\n                    {props.isSuccess ?'Вы успешно зарегистрировались!':'Что-то пошло не так! Попробуйте ещё раз.'}\r\n                </p>\r\n            </div>\r\n           \r\n        </div>\r\n    \r\n    \r\n    )\r\n\r\n}\r\nexport default InfoTooltip;","import Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport React from 'react';\nimport ImagePopup from './ImagePopup';\nimport api from '../utils/api';\nimport { CurrentUserContext} from '../contexts/CurrentUserContext';\nimport { CurrentCardsContext} from '../contexts/CurrentCardsContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeletQuestionPopup from './DeletQuestionPopup';\n\nimport { Route, Switch, Redirect ,withRouter} from 'react-router-dom';\nimport auth from '../utils/auth';\nimport LogIn from './LogIn';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from '../../src/components/InfoTooltip';\nfunction App(props) {\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  function handleEditAvatarClick (){\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  function handleEditProfileClick (){\n     setIsEditProfilePopupOpen (true)\n  }\n\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  function handleAddPlaceClick (){\n    setIsAddPlacePopupOpen(true)\n  }\n  //попап удаления\n  const [ deletQuestionPopup, setDeletQuestionPopup] = React.useState(false);\n  const [deletCard, setdeletCard] = React.useState({});\n  function handleDeletQuestionPopup (card){\n    setdeletCard(card)\n    setDeletQuestionPopup(true)\n  }\n\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const handleCardClick = (card) => {\n  setSelectedCard(card)\n}\n  \n  function closeAllPopups(){\n    setIsEditAvatarPopupOpen(false)\n    setIsEditProfilePopupOpen (false)\n    setIsAddPlacePopupOpen(false)\n    setDeletQuestionPopup(false)\n    setSelectedCard({})\n    setStateOpenPopup(false)\n  }\n\n\n \n//закрытие попап по ESC\n  React.useEffect(() => {\n    const handleEsc = (event) => {\n      const btnEscape = 27;\n       if (event.keyCode === btnEscape) {\n        closeAllPopups()\n      }\n    };\n    window.addEventListener('keydown', handleEsc);\n\n    return () => {\n      window.removeEventListener('keydown', handleEsc);\n    };\n  }, []);\n\n\n  const [currentUser,setCurrentUser] = React.useState({})\n  React.useEffect(()=>{\n    api.getUserInfo()\n    .then(res =>{\n      setCurrentUser(res)\n    })\n    .catch(res=>{\n      console.log(`Ошибка:${res}`)\n    })\n  },[])\n  \n\n\n  function handleUpdateUser (e){\n  \n    api.updateUser(e)\n    .then((res)=>{\n      setCurrentUser(res)\n      closeAllPopups()\n    })\n    .catch(res=>{\n      console.log(`Ошибка:${res}`)\n    })\n  }\n\n  function handleUpdateAvatar(e){\n    api.updateAvatar(e)\n    .then((res)=>{\n      setCurrentUser(res)\n      closeAllPopups()\n    })\n    .catch(res=>{\n      console.log(`Ошибка:${res}`)\n    })\n  }\n\n  // card\n\n\n  const [currentCards,setCurrentCards] = React.useState([])\n  \n  React.useEffect(()=>{\n    api.getInitialCards()\n    .then( res =>{\n      setCurrentCards(res)\n    })\n    .catch(res=>{\n      console.log(`Error:${res}`)\n    })\n  },[])\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLikeCardStatus(card._id, isLiked)\n    .then((newCard) => {\n        setCurrentCards((currentCards) => currentCards.map((c) => c._id === card._id ? newCard : c));\n    }).catch(res=>{\n      console.log(`Error:${res}`)\n    });\n  }\n\n \n  function handleCardDelete (card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n\n    const isOwn = card.owner._id === currentUser._id;\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeCardStatus(card._id, isOwn)\n    .then((newCard) => {\n      setCurrentCards((currentCards) => [...currentCards].filter((c) => c._id === card._id ? console.log(newCard) : c));\n    }).catch(res=>{\n      console.log(`Error:${res}`)\n    });\n\n   }\n\n\n   function handleAddPlaceSubmit(e){\n    api.addCard(e)\n    .then( newCard =>{\n      setCurrentCards([newCard, ...currentCards]);\n      closeAllPopups();\n    })\n    .catch(newCard=>{\n      console.log(`Ошибка:${newCard}`)\n    })\n   }\n  //  стейит переменная для автризаций или залогирование\n  const [loggedIn,setloggedIn] = React.useState(false)\n\n  function onLogin(){\n    setloggedIn(true)\n  }\n\n\n  const [isSuccess,setisSuccess] = React.useState()\n  const [stateOpenPopup,setStateOpenPopup] = React.useState(false)\n\n  function onRegister (e){\n    const {email}= e;\n    const {password}= e;\n    auth.register({email,password})\n    .then((res) => {\n        if(res.status === 201){\n            setisSuccess(true)\n            setStateOpenPopup(true)\n            setTimeout(()=>{props.history.push('/sign-in')}, 3000)\n          } else {\n            setisSuccess(false)\n            setStateOpenPopup(true)\n            console.log('Что то пошло не так')\n          }\n          \n        }).catch((err) => console.log(err));\n}\n\n\n\n\n// проверка токена при входе если уже залогинен клиент\n  const [emailData,setEmailData] = React.useState({})\n// перерисовую если функия выполнена по loggedIn(который тру или фалс)\n  React.useEffect(()=>{\n      tokenCheck();\n    },[loggedIn])\n\n   function tokenCheck () {\n      // если у пользователя есть токен в localStorage, \n      // эта функция проверит, действующий он или нет\n      const jwt = localStorage.getItem('token');\n      if (jwt){\n        auth.getToken(jwt)\n        .then((res)=>{\n        const userData = (\n          res.data.email\n        )\n          if (res){\n            setEmailData({userData})\n            setloggedIn(true)\n            props.history.push(\"/main\")\n          }\n          \n        })\n        .catch((err) => console.log(err))\n      }\n    }\n\n    // \n// Логин\n    function onLoginSumbit (e){\n\n        const {email}= e;\n        const {password}= e;\n\n        auth.login({email,password})\n        .then((res) => {\n                localStorage.setItem('token', res.token)\n                onLogin();\n                props.history.push('/main');\n     \n            }).catch((err) => console.log(err));\n            \n    }\n\n  return (\n\n        <div className=\"App body-background\">\n          <CurrentCardsContext.Provider value={currentCards}>\n          <CurrentUserContext.Provider value={currentUser}>\n            <Switch>\n           \n              <Route exact path=\"/\">\n                  {loggedIn ? <Redirect to=\"/main\"/> : <Redirect to=\"/sign-in\"/>}\n              </Route>\n        \n              <ProtectedRoute\n                  path=\"/main\"\n                  loggedIn={loggedIn}\n                  component={() =>\n                    <>\n                     <Header userData={emailData.userData} />\n                     <Main\n                       loggedIn={loggedIn}\n                       component={Main}\n                       onEditAvatar={handleEditAvatarClick}\n                       onEditProfile={handleEditProfileClick}\n                       onAddPlace ={handleAddPlaceClick}\n                       onCardClick={handleCardClick}\n                       cards = {currentCards} \n                       onCardLike ={handleCardLike}\n                       onCardDelete ={handleDeletQuestionPopup}\n                     />\n                     <Footer  loggedIn={loggedIn}/>\n                    </>\n                }\n              />       \n              \n              <Route \n                path=\"/sign-in\"\n                component={() => \n                <LogIn \n                onLogin={onLogin} \n                onLoginSumbit={onLoginSumbit}\n                />}\n              />\n\n              <Route \n                path=\"/sign-up\" \n                loggedIn={loggedIn}\n                component={() => \n                <Register \n                  onLogin={onLogin}\n                  onRegister={onRegister}\n                  />}\n              />\n    \n            </Switch>\n\n\n            <EditProfilePopup onUpdateUser ={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\n            <EditAvatarPopup onUpdateAvatar ={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\n            <AddPlacePopup onAddPlace ={handleAddPlaceSubmit} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups}/>\n            <DeletQuestionPopup \n                card={deletCard} \n                isOpen={deletQuestionPopup}\n                onClose={closeAllPopups}\n                onCardDelete={handleCardDelete}\n            />\n            <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n            <InfoTooltip isSuccess={isSuccess} stateOpenPopup={stateOpenPopup} onClose={closeAllPopups}/>\n            </CurrentUserContext.Provider>\n          </CurrentCardsContext.Provider>\n         \n        </div>\n        \n  );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nimport { BrowserRouter} from 'react-router-dom';\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}